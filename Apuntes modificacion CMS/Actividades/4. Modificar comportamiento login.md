
### 1. Crear la carpeta y el archivo

1. Ir a `wp-content/plugins/`.
2. Crear carpeta: `login-personalizado`.
3. Dentro, archivo: `login-personalizado.php`.

---

### 2. Cabecera del plugin

```php
<?php
/*
Plugin Name: Login Personalizado
Description: Modifica la pantalla de login.
Version: 1.0
Author: Alfonso
*/
```

---

### 3. Cambiar el logo del login

Debajo de la cabecera:

```php
add_action('login_enqueue_scripts', function() {
    ?>
    <style>
        body.login div#login h1 a {
            background-image: url("https://dummyimage.com/200x80/000/fff&text=Mi+Logo") !important;
            width: 200px !important;
            height: 80px !important;
            background-size: contain !important;
        }
    </style>
    <?php
});
```

**Qué hace esto:**

- **Hook `login_enqueue_scripts`:** se ejecuta cuando se carga la página de login.
- Insertamos un bloque `<style>` que cambia el CSS del logo.
- `.login h1 a` es el selector del logo por defecto de WordPress.

---

### 4. Cambiar la URL del logo

```php
add_filter('login_headerurl', function() {
    return home_url(); // Te lleva a la home del sitio
});
```

- **`login_headerurl`**: filtro que permite cambiar el enlace del logo.
- `home_url()` devuelve la URL principal del sitio.

---

### 5. Añadir un mensaje personalizado

```php
add_filter('login_message', function($message) {
    $mi_mensaje = '<p style="text-align:center;color:#2271b1;">
                       Bienvenido al panel personalizado
                   </p>';
    return $mi_mensaje . $message;
});
```

- **`login_message`**: permite añadir HTML encima del formulario de login.
- Concatenamos nuestro mensaje con el que ya exista (`$message`).

---

### 6. Activar y probar

1. Activar el plugin **“Login Personalizado”** en **Plugins**.
2. Cerrar sesión o abrir una ventana de incógnito.
3. Ir a tuIP/wp-login.php`.
4. Verificar:
    - Logo cambiado.
    - Al hacer clic en el logo, te lleva a la home.
    - Mensaje “Bienvenido al panel personalizado”.

---

## Práctica 7: plugin que añade contenido extra al final de las entradas

### 1. Crear carpeta y archivo

1. Ir a `wp-content/plugins/`.
2. Crear carpeta: `contenido-extra`.
3. Dentro, archivo: `contenido-extra.php`.

---

### 2. Cabecera del plugin

```php
<?php
/*
Plugin Name: Contenido Extra
Description: Añade un mensaje al final de cada entrada.
Version: 1.0
Author: Francisco
*/
```

---

### 3. Usar el filtro `the_content`

Debajo de la cabecera:

```php
add_filter('the_content', 'ce_añadir_contenido_extra');

function ce_añadir_contenido_extra($content) {

    // Solo en entradas individuales (no en páginas, ni archivos)
    if (is_singular('post')) {

        $extra = '<p style="margin-top:30px;padding:10px;border-top:1px solid #ccc;">
                    Gracias por leer este artículo.
                  </p>';

        // Devolvemos el contenido original + el extra
        return $content . $extra;
    }

    // En otros tipos de contenido, no tocamos nada
    return $content;
}
```

**Qué está pasando:**

- **`the_content`**: filtro que se aplica justo antes de mostrar el contenido de la entrada.
- Recibimos el contenido original en `$content`.
- Comprobamos con `is_singular('post')` que estamos en una entrada individual.
- Devolvemos el contenido original + nuestro HTML extra.

---

### 4. Activar y probar

1. Activar el plugin **“Contenido Extra”**.
2. Abrir una entrada del blog (no una página).
3. Al final del contenido debe aparecer el mensaje:  
    “Gracias por leer este artículo.”
4. Comprobar que:
    - En páginas (`page`) no aparece.
    - En el listado de entradas (archivo del blog) tampoco.

---

