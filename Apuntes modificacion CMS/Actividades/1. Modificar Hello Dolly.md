_Hello Dolly_ es uno de los plugins más simples y emblemáticos incluidos por defecto en WordPress. Aunque su función original es meramente estética —mostrar frases aleatorias de la canción “Hello, Dolly!” en el panel de administración— se ha convertido en un recurso clásico para aprender cómo funciona la estructura básica de un plugin.

Su código es breve, directo y fácil de entender, lo que lo convierte en un punto de partida ideal para quienes desean iniciarse en el desarrollo de plugins. A través de él puedes explorar conceptos fundamentales como:

- Cómo declarar un plugin en WordPress
- Cómo crear funciones personalizadas
- Cómo usar _hooks_ para insertar contenido en el panel de administración
- Cómo modificar o ampliar funcionalidades existentes

En esta práctica guiada aprenderás a manipular y extender el plugin _Hello Dolly_ para comprender mejor el ciclo de vida de un plugin y sentar las bases para crear los tuyos propios.


# 1. Localiza el plugin en tu instalación

El plugin viene preinstalado en WordPress. Su ruta es:

```
/wp-content/plugins/hello.php
```


---

# 2. Entiende la estructura del plugin

El archivo `hello.php` contiene:

- El encabezado del plugin (nombre, autor, versión…)
- Una función que devuelve una frase aleatoria
- Un hook que inserta esa frase en el panel de administración

Te encontrarás algo parecido a esto (resumen, no el archivo completo):

```php
/*
Plugin Name: Hello Dolly
Description: Muestra frases aleatorias en el panel de administración.
*/

function hello_dolly_get_lyric() {
    $lyrics = "Aquí van varias líneas de texto...";
    $lyrics = explode("\n", $lyrics);
    return wptexturize( $lyrics[ mt_rand(0, count($lyrics) - 1) ] );
}

function hello_dolly() {
    $chosen = hello_dolly_get_lyric();
    echo "<p id='dolly'>$chosen</p>";
}

add_action( 'admin_notices', 'hello_dolly' );
```

---

# 3. Modifica el texto que muestra

Vamos a cambiar las frases por algo tuyo. Por ejemplo, frases motivadoras o chistes.

Sustituye el contenido de `$lyrics` por tus propias líneas:

```php
$lyrics = "La creatividad es inteligencia divirtiéndose.
El código limpio es poesía.
Cada bug es una oportunidad para aprender.
Hoy es un buen día para programar.";
```

Asegúrate de que cada frase está en una línea separada.

---

# 4. Cambia el estilo del mensaje

Puedes personalizar el CSS directamente desde el plugin:

```php
function hello_dolly_css() {
    echo "
    <style>
        #dolly {
            padding: 10px;
            background: #f0f6ff;
            border-left: 4px solid #2271b1;
            font-size: 14px;
            font-style: italic;
        }
    </style>
    ";
}
add_action( 'admin_head', 'hello_dolly_css' );
```

---

# 5. Cambia el hook para mostrarlo en otro sitio

Por ejemplo, en el pie del panel de administración:

```php
add_filter( 'admin_footer_text', function() {
    return hello_dolly_get_lyric();
});
```

Esto reemplaza el texto del footer por tu frase aleatoria.

---

# 6. Activa el plugin y pruébalo

1. Ve al panel de WordPress
2. Entra en **Plugins**
3. Activa **Hello Dolly**
4. Recarga el escritorio y observa los cambios

---

# 7. Ejercicio opcional: añade un shortcode

Para usar tus frases en entradas o páginas:

```php
function hello_dolly_shortcode() {
    return hello_dolly_get_lyric();
}
add_shortcode('dolly', 'hello_dolly_shortcode');
```

Ahora puedes escribir:

```
[dolly]
```

en cualquier página o entrada.
